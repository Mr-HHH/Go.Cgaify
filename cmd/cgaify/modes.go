package main

//go:generate go run gen\makevga.go

import (
	"image/color"
)

type mode struct {
	desc   string
	width  uint
	height uint
	colors color.Palette
}

func (m *mode) aspectRatio() float64 {
	return float64(m.width) / float64(m.height)
}

var egacolors = color.Palette{
	color.RGBA{0x00, 0x00, 0x00, 0xff}, // 0
	color.RGBA{0x00, 0x00, 0xAA, 0xff}, // 1
	color.RGBA{0x00, 0xAA, 0x00, 0xff}, // 2
	color.RGBA{0x00, 0xAA, 0xAA, 0xff}, // 3
	color.RGBA{0xAA, 0x00, 0x00, 0xff}, // 4
	color.RGBA{0xAA, 0x00, 0xAA, 0xff}, // 5
	color.RGBA{0xAA, 0x55, 0x00, 0xff}, // 6
	color.RGBA{0xAA, 0xAA, 0xAA, 0xff}, // 7
	color.RGBA{0x55, 0x55, 0x55, 0xff}, // 8
	color.RGBA{0x55, 0x55, 0xFF, 0xff}, // 9
	color.RGBA{0x55, 0xFF, 0x55, 0xff}, // 10
	color.RGBA{0x55, 0xFF, 0xFF, 0xff}, // 11
	color.RGBA{0xFF, 0x55, 0x55, 0xff}, // 12
	color.RGBA{0xFF, 0x55, 0xFF, 0xff}, // 13
	color.RGBA{0xFF, 0xFF, 0x55, 0xff}, // 14
	color.RGBA{0xFF, 0xFF, 0xFF, 0xff}, // 15
}

// define the modes/palettes we support
var modes = map[string]*mode{
	"CGA1": {
		"CGA 320x200 Palette 1, Low Intensity, Cyan Magenta White",
		320,
		200,
		color.Palette{
			color.RGBA{0x00, 0x00, 0x00, 0xff},
			color.RGBA{0x00, 0xAA, 0xAA, 0xff},
			color.RGBA{0xAA, 0x00, 0xAA, 0xff},
			color.RGBA{0xAA, 0xAA, 0xAA, 0xff},
		},
	},
	"CGA1H": {
		"CGA 320x200 Palette 1, High Intensity, Cyan Magenta White",
		320,
		200,
		color.Palette{
			color.RGBA{0x00, 0x00, 0x00, 0xff},
			color.RGBA{0x55, 0xFF, 0xFF, 0xff},
			color.RGBA{0xFF, 0x55, 0xFF, 0xff},
			color.RGBA{0xFF, 0xFF, 0xFF, 0xff},
		},
	},
	"CGA0": {
		"CGA 320x200 Palette 0, Low Intensity, Green Red Brown",
		320,
		200,
		color.Palette{
			color.RGBA{0x00, 0x00, 0x00, 0xff},
			color.RGBA{0x00, 0xAA, 0x00, 0xff},
			color.RGBA{0xAA, 0x00, 0x00, 0xff},
			color.RGBA{0xAA, 0x55, 0x00, 0xff},
		},
	},
	"CGA0H": {
		"CGA 320x200 Palette 0, High Intensity, Green Red Yellow",
		320,
		200,
		color.Palette{
			color.RGBA{0x00, 0x00, 0x00, 0xff},
			color.RGBA{0x55, 0xFF, 0x55, 0xff},
			color.RGBA{0xFF, 0x55, 0x55, 0xff},
			color.RGBA{0xFF, 0xFF, 0x55, 0xff},
		},
	},
	"EGA": {
		"EGA 320x200 16-colors",
		320,
		200,
		egacolors,
	},
	"EGA640": {
		"EGA 640x350 16-colors",
		640,
		350,
		egacolors,
	},
	"VGA": {
		"VGA 320x200 256-colors",
		320,
		200,
		vgacolors,
	},
	"CLAY": {
		"CGA 320x200 Palette 1, but with more saturation",
		320,
		200,
		color.Palette{
			color.RGBA{0x00, 0x00, 0x00, 0xff},
			color.RGBA{0x00, 0xFF, 0xFF, 0xff},
			color.RGBA{0xFF, 0x00, 0xFF, 0xff},
			color.RGBA{0xFF, 0xFF, 0xFF, 0xff},
		},
	},
}
